# TrendRadar Docker 环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置

# === 核心配置 ===
ENABLE_CRAWLER=true
ENABLE_NOTIFICATION=true
REPORT_MODE=daily

# === 推送时间窗口 ===
PUSH_WINDOW_ENABLED=false
PUSH_WINDOW_START=20:00
PUSH_WINDOW_END=22:00
PUSH_WINDOW_ONCE_PER_DAY=true
PUSH_WINDOW_RETENTION_DAYS=7

# === 通知渠道配置 ===
# Telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrSTUvwxYZ
TELEGRAM_CHAT_ID=123456789

# 飞书
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/your-webhook-url

# 钉钉
DINGTALK_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=your-token

# 企业微信
WEWORK_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-key

# === 邮件配置 ===
EMAIL_FROM=your-email@example.com
EMAIL_PASSWORD=your-app-password
EMAIL_TO=recipient@example.com
EMAIL_SMTP_SERVER=smtp.example.com
EMAIL_SMTP_PORT=587

# === ntfy配置 ===
NTFY_SERVER_URL=https://ntfy.sh
NTFY_TOPIC=your-topic-name
NTFY_TOKEN=your-ntfy-token

# === 运行模式配置 ===
# 可选值: once, cron, polling, main+polling
RUN_MODE=main+polling

# Cron定时任务配置 (仅在cron和main+polling模式下生效)
CRON_SCHEDULE=*/30 * * * *

# 是否立即执行一次
IMMEDIATE_RUN=true

# === Telegram Polling配置 ===
# 是否启用Telegram polling服务
ENABLE_POLLING=true

# Polling进程异常重启延迟时间（秒）
POLLING_RESTART_DELAY=5

# === 运行模式说明 ===
# once: 单次执行模式，运行一次后退出
# cron: 传统定时任务模式，不启用polling
# polling: 仅运行Telegram polling服务，不执行新闻抓取
# main+polling: 主程序定时任务 + Telegram polling并行运行（推荐）

# === 使用示例 ===
# 1. 基本使用（推荐）
#    RUN_MODE=main+polling
#    ENABLE_POLLING=true
#    CRON_SCHEDULE=*/30 * * * *
#
# 2. 仅定时任务，不使用分页功能
#    RUN_MODE=cron
#    ENABLE_POLLING=false
#
# 3. 仅Telegram polling服务
#    RUN_MODE=polling
#    ENABLE_POLLING=true
#
# 4. 单次执行测试
#    RUN_MODE=once
